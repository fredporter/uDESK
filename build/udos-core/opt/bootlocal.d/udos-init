#!/bin/bash\n# uDESK boot integration for TinyCore\n# This script runs during TinyCore boot process\n\necho \"Starting uDESK integration...\"\n\n# Run first-boot wizard if needed\nif [ -f /opt/udos/first-boot.sh ]; then\n    /opt/udos/first-boot.sh\nfi\n\n# Load role-specific environment\nROLE=$(udos-detect-role 2>/dev/null || echo \"basic\")\necho \"uDESK role detected: $ROLE\"\n\n# Apply role-specific configurations\ncase \"$ROLE\" in\n    \"admin\")\n        # Enable development environment\n        export PATH=\"/opt/udos/bin:$PATH\"\n        ;;\n    \"standard\")\n        # Enable desktop environment\n        export PATH=\"/opt/udos/bin:$PATH\"\n        ;;\n    \"basic\")\n        # Minimal environment\n        ;;\nesac\n\n# Ensure uDESK paths are in system PATH\nif ! grep -q \"/opt/udos/bin\" /etc/profile 2>/dev/null; then\n    echo 'export PATH=\"/opt/udos/bin:$PATH\"' >> /etc/profile\nfi\n\necho \"uDESK v1.0.6 loaded with role: $ROLE\"\n