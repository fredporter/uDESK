#!/bin/bash\n# uDESK system information display in markdown format\n\nROLE=$(cat /etc/udos/role 2>/dev/null || echo \"unknown\")\nUPTIME=$(uptime | cut -d, -f1)\nLOAD=$(uptime | awk -F'load average:' '{print $2}' | sed 's/^ *//')\nMEMORY=$(free -h | awk 'NR==2{print $3\"/\"$2}')\nDISK=$(df -h / | awk 'NR==2{print $3\"/\"$2\" (\"$5\" used)\"}')\n\ncat << EOF\n# uDESK System Information\n\n**Generated**: $(date)  \n**Hostname**: $(hostname)  \n**Kernel**: $(uname -r)\n\n## Current Status\n\n- **Role**: $ROLE\n- **Uptime**: $UPTIME  \n- **Load Average**: $LOAD\n- **Memory**: $MEMORY\n- **Disk**: $DISK\n\n## Network Interfaces\n\n$(ip addr show | grep -E '^[0-9]+:' | while read line; do\n    iface=$(echo \"$line\" | cut -d: -f2 | tr -d ' ')\n    state=$(echo \"$line\" | grep -o 'state [A-Z]*' | cut -d' ' -f2 || echo \"UNKNOWN\")\n    echo \"- **$iface**: $state\"\ndone)\n\n## Installed Extensions\n\n$(tce-status -i 2>/dev/null | head -10 | while read ext; do\n    echo \"- $ext\"\ndone || echo \"- Extension info not available\")\n\n## Markdown Tools Status\n\n- **Editor (micro)**: $(command -v micro >/dev/null && echo \"✅ Available\" || echo \"❌ Not installed\")\n- **Viewer (glow)**: $(command -v glow >/dev/null && echo \"✅ Available\" || echo \"❌ Not installed\")\n- **Git**: $(command -v git >/dev/null && echo \"✅ Available\" || echo \"❌ Not installed\")\n\n## uDESK Directories\n\n$(ls -la /etc/udos/ 2>/dev/null | tail -n +2 | while read perms links owner group size month day time name; do\n    echo \"- **/etc/udos/$name**: $size bytes\"\ndone || echo \"- uDESK directories not initialized\")\n\n## Quick Commands\n\n### Role Management\n\\`\\`\\`bash\n# Check current role\nudos-detect-role\n\n# Switch role\necho \"admin\" > /etc/udos/role && exec bash\n\\`\\`\\`\n\n### Markdown Workflow\n\\`\\`\\`bash\n# Edit markdown\nmicro document.md\n\n# View beautifully\nglow document.md\n\n# System configuration\nmicro /etc/udos/system.md\n\\`\\`\\`\n\n### System Management\n\\`\\`\\`bash\n# Available services\nudos-service list\n\n# System persistence\nfiletool.sh -b\n\\`\\`\\`\n\n---\n\n*uDESK: Where everything is markdown, and everything makes sense.*\nEOF\n